{"version":3,"file":"new-features-service.min.js","mappings":"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","sources":["webpack://NewFeatureLibrary/webpack/universalModuleDefinition","webpack://NewFeatureLibrary/webpack/bootstrap","webpack://NewFeatureLibrary/webpack/runtime/define property getters","webpack://NewFeatureLibrary/webpack/runtime/hasOwnProperty shorthand","webpack://NewFeatureLibrary/webpack/runtime/make namespace object","webpack://NewFeatureLibrary/./src/lib/services/compatibility-service.ts","webpack://NewFeatureLibrary/./src/lib/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NewFeatureLibrary\"] = factory();\n\telse\n\t\troot[\"NewFeatureLibrary\"] = factory();\n})(self, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export class CompatibilityService {\r\n  private _groups: number[];\r\n\r\n  constructor(groups: number[]) {\r\n    this._groups = groups\r\n  }\r\n\r\n  public compatible(feature: number, visibleFeatures: number): number {\r\n    if (!feature) return feature;\r\n\r\n    for (let i = 0; i < this._groups.length; i++) {\r\n      const gr = this._groups[i];\r\n      if (!visibleFeatures || gr & visibleFeatures) {\r\n        const compatibleFeatures = feature & gr;\r\n        if (compatibleFeatures) return compatibleFeatures;\r\n      }\r\n    }\r\n\r\n    return 0;\r\n  }\r\n}\r\n","import { NewFeaturesProvider } from \"./providers/new-features-provider\";\r\nimport { CompatibilityService } from \"./services/compatibility-service\";\r\n\r\nexport class NewFeaturesService {\r\n  public get shownNewFeatures(): number {\r\n    return this._shownNewFeatures;\r\n  }\r\n\r\n  private _shownNewFeatures = 0;\r\n  private _promise$: Promise<number> | undefined;\r\n  private _compatibilityService: CompatibilityService;\r\n  private readonly _subscriptions: (() => any)[] = [];\r\n  private get _newFeatures$(): Promise<number> {\r\n    if (!this._promise$) this._promise$ = this._provider.newFeatures;\r\n    return this._promise$;\r\n  }\r\n\r\n  constructor(private readonly _provider: NewFeaturesProvider, compatibilityGroups: number[]) {\r\n    this._compatibilityService = new CompatibilityService(compatibilityGroups);\r\n  }\r\n\r\n  public async availableFeatures(feature: number): Promise<number> {\r\n    const curNewFeatures = (await this._newFeatures$) & feature;\r\n    return curNewFeatures & this._compatibilityService.compatible(curNewFeatures, this._shownNewFeatures);\r\n  }\r\n\r\n  public async showAvailableFeatures(feature: number): Promise<number> {\r\n    const newFeatures = await this.availableFeatures(feature);\r\n    if (newFeatures) this._shownNewFeatures |= newFeatures;\r\n    return newFeatures;\r\n  }\r\n\r\n  public async isNewFeature(feature: number): Promise<boolean> {\r\n    const newFeatures = await this.availableFeatures(feature);\r\n    return (newFeatures & feature) === feature;\r\n  }\r\n\r\n  public async markNewFeatureAsUsed(feature: number): Promise<boolean> {\r\n    const isNew = await this.isNewFeature(feature);\r\n    if (isNew) this._provider.markNewFeatureAsUsed(feature);\r\n    return isNew;\r\n  }\r\n\r\n  public hide(feature: number): void {\r\n    this._shownNewFeatures &= ~feature;\r\n  }\r\n\r\n  public subscribeOnChangeState(func: () => any): void {\r\n    if (this._subscriptions.find(f => f === func)) return;\r\n    this._subscriptions.push(func);\r\n    if (this._subscriptions.length === 1) this._provider.subscribeOnChangeState(this.refreshNewFeatures);\r\n  }\r\n\r\n  public unsubscribeFromChangeState(func: () => any): void {\r\n    const index = this._subscriptions.indexOf(func);\r\n    if (index !== -1) return;\r\n    this._subscriptions.splice(index, 1);\r\n    if (!this._subscriptions.length) this._provider.unsubscribeFromChangeState(this.refreshNewFeatures);\r\n  }\r\n\r\n  private refreshNewFeatures(): void {\r\n    this._promise$ = this._provider.newFeatures;\r\n    this._newFeatures$.then(() => { this._subscriptions.forEach(fn => fn()); });\r\n  }\r\n}"],"names":["root","factory","exports","module","define","amd","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","CompatibilityService","groups","_classCallCheck","this","_groups","feature","visibleFeatures","i","length","gr","compatibleFeatures","_regeneratorRuntime","Op","hasOwn","desc","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","configurable","writable","err","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","_typeof","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","apply","_defineProperties","target","props","descriptor","_toPropertyKey","_defineProperty","input","hint","prim","toPrimitive","res","String","Number","_toPrimitive","NewFeaturesService","_provider","compatibilityGroups","instance","Constructor","_compatibilityService","protoProps","staticProps","_markNewFeatureAsUsed","_isNewFeature","_showAvailableFeatures","_availableFeatures","_shownNewFeatures","_promise$","newFeatures","_callee","curNewFeatures","_context","_newFeatures$","t0","t1","compatible","_x","_callee2","_context2","availableFeatures","_x2","_callee3","_context3","_x3","_callee4","isNew","_context4","isNewFeature","markNewFeatureAsUsed","_x4","func","_subscriptions","find","f","subscribeOnChangeState","refreshNewFeatures","index","indexOf","splice","unsubscribeFromChangeState","_this"],"sourceRoot":""}